general map specifications:
-the default window size is 2000x1200 pixels. the window is resizable.
-the world map is 10000x5400 pixels, scrollable via camera.
-the camera scrolls when the mouse reaches the screen edge (30px margin), enters the bottom HUD area, or using arrow keys.
-the game is over when all AI buildings and combat units are destroyed (victory), or if all player units and buildings are destroyed (defeat).
-Yanuses wave enemies exist but are currently disabled.
-the game runs at 2x simulation speed.
-the player starts with 1 town center, 3 workers and 50 ressources.
-there are 10 mineral nodes spread across the left/center of the map, each holding 2500 ressources.

minimap:
-a minimap is displayed in the HUD area (bottom-right corner).
-it shows all units, buildings, mineral nodes, enemies, and AI entities.
-a white rectangle on the minimap indicates the current camera viewport.
-clicking on the minimap moves the viewport to that location.
-click-dragging on the minimap smoothly pans the camera.
-right-clicking on the minimap sets a movement waypoint for selected units.
-shift+right-clicking on the minimap adds a waypoint to the path.

units specifications:

All units fires at enemy as soon as they are in range. after the fight is over, units resume moving to their waypoint.
Combat units have a vision range 20% bigger than their firing range. when an enemy is seen within vision range but outside firing range, the unit hunts it (moves toward it until in firing range).
When a combat unit is selected, a circle showing its attack range is displayed around it.
Units cannot use the same space at the same time.
Units cannot spawn in a space used by an existing unit.
When a moving unit reaches a destination occupied by another unit, it stops next to it.
When two moving units collide, one stops and waits until the other has moved away.
When a unit is stuck for more than 0.5 second, it enters a "stuck" state and tries to escape by moving left, right, back-left or back-right.
When a unit is stuck for more than 1 second, it gives up and clears its waypoint.
When a unit is selected, all its stats are displayed in the bottom panel.

the worker:
-has 30 health points
-cost 15 ressources to be built.
-trained from the town center in 4 seconds.
-carries 10 ressources per trip and mines for 2 seconds at a node.
-delivers ressources to the closest town center.
-only one worker can mine a node at a time, others wait for it to finish.
-if no town center exists, the worker cancels mining.
-workers are required to deploy buildings: select a worker, enter placement mode, and click to place. the worker moves to the location and constructs the building over time (a progress bar is shown during construction).
-workers can repair damaged buildings and units at 5 HP per second. right-click a damaged friendly entity with selected workers to send them to repair.

the soldier:
-has 100 health points
-cost 100 ressources to be built.
-trained from the barracks in 3 seconds.
-Its gun fires 5 times a second and deals 10 HP of damage.
-The firing range is 7 times the size of the unit.

the tank:
-has 500 health points
-moves twice as slow as the soldier
-cost 350 ressources to be built.
-trained from the factory in 6 seconds.
-Its cannon fires 1 round every second and deals 34 HP of damage.
-The firing range is 7 times the size of the unit.

buildings specifications:

-buildings can only be placed within 500 pixels of a town center or watchguard, or 100 pixels of another building. valid placement zones are shown as light circles when in placement mode.
-buildings can be attacked and destroyed by enemies.
-building construction takes time: the worker must stay at the site while building completes.
-the town center has 1000 HP, costs 100 ressources, takes 15 seconds to build.
-the barracks has 400 HP, costs 50 ressources, takes 5 seconds to build.
-the factory has 400 HP, costs 80 ressources, takes 10 seconds to build.
-the defense tower has 1000 HP, costs 300 ressources, takes 5 seconds to build.

the watchguard:
-has 400 health points, costs 200 ressources, takes 3 seconds to build.
-expands the building placement zone by 500 pixels around it.
-consumes the worker that builds it.
-does not produce units.
-keyboard shortcut: G.

the defense tower:
-has 1000 health points.
-does not produce units.
-automatically targets and fires at enemies within range (200 pixels).
-fires 1.5 shots per second, dealing 25 HP of damage.
-displays a rotating cannon barrel pointing at its target (or upward when idle).
-shows its attack range circle when selected.

AI computer player:
-an AI opponent occupies the right side of the map (town center at ~8000, 280).
-has its own set of 10 mineral nodes, workers, buildings, and combat units.
-all AI entities are drawn with an orange tint to distinguish them from the player.
-AI profile is selected via --ai <name> flag (defaults to "basic"). each profile is a file in ai_profiles/.
-profiles control: think interval, max workers, soldier/tank ratio, attack threshold, garrison ratio, retreat ratio, resource reserve, and whether to build towers.

AI profile "basic":
-follows a build order: workers first, then barracks, then factory, then 2nd town center.
-trains up to 8 workers, maintains a 3:1 soldier/tank ratio.
-scouts before attacking, sends 70% of army to attack while 30% garrisons.
-uses focus fire and retreats when army drops below 30%.
-thinks every 1 second and adapts difficulty based on game progression.

AI profile "defensive":
-trains up to 10 workers for a stronger economy.
-requires 12 combat units before launching an attack (double the basic threshold).
-keeps 50% of army garrisoned at base for defense.
-retreats sooner when outnumbered (40% ratio).
-builds up to 6 defense towers near existing buildings.

AI profile "aggressive":
-thinks twice as fast (every 0.5 seconds).
-trains only 5 workers, prioritizing military spending.
-attacks early with just 3 combat units (half the basic threshold).
-sends 90% of army to attack, keeping only 10% garrisoned.
-barely retreats (only at 15% ratio), heavily favors soldiers (5:1 ratio).
-keeps minimal resource reserve (30).

A new unit called "Yanuses" is an evil soldier-like enemy unit:
-same HP and damage as the soldier
-spawns from the bottom of the map, starting as a group of 3 with one more enemy added each wave.
-shoots the soldiers, the tanks and the building as soon as they are in range.
-walks toward the nearest player unit or building when nothing is in range.

natural disasters:
-random disasters spawn every 45-90 seconds, affecting all units and buildings on the map.
-meteor strike: 0.5s warning (crosshair), then explosion dealing 50 damage in a 150px radius with particle effects.
-earthquake: lasts 5 seconds, shakes the screen, deals 10 damage to all buildings, slows all units by 50%.
-lightning storm: lasts 8 seconds, random bolts strike units every 1-2 seconds for 40 damage (10 splash within 30px).
-toxic cloud: drifts across the map for 12 seconds, deals 5 damage per second to units within a 200px radius.

controls:

-T: enter town center placement mode.
-B: enter barracks placement mode.
-F: enter factory placement mode.
-D: enter defense tower placement mode.
-G: enter watchguard placement mode.
-Right click on damaged friendly unit/building: send selected workers to repair.
-Right click: cancel building placement mode.
-P: pause the game and generate a dbug.log file with the full game state. press ESC to resume.
-Left click: place building, select unit or building, click minimap to move viewport.
-Left drag: box-select units, drag on minimap to pan camera.
-Right click on ground: move selected units.
-Right click on mineral node: send selected workers to mine.
-Shift + Right click: add waypoint to path.
-Arrow keys: scroll the camera.
-ESC: cancel placement, deselect, resume from pause, quit on game over.

command line options:
-python game.py                          # normal game (basic AI)
-python game.py --ai <name>              # select AI profile (basic, defensive, etc.)
-python game.py --playforme              # spectator mode: AI controls the player side
-python game.py --replay replay/file.json  # replay viewer (Space=pause, +/-=speed, click timeline to seek)
